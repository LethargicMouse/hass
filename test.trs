fn main() {
  trust_main()
}

fn trust_main(args) {
  process(args)
}

fn process(args) {
  if args.len != 1
    die("! expected exactly one argument");
  run_file(args.buf[0])
}

fn run_file(path) {
  @print("> running `", path, "`:\n");
  run_code(path, read_file(path))
}

fn run_code() {
  match compile(path, code) {
    
  }
}

fn read_file() {
  
}

fn die() {
  
}

type args = slice;

struct slice {
  len,
  buf
}
